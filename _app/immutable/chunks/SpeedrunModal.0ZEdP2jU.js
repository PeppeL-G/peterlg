import{s as G,n as Y}from"./scheduler.KwwHePks.js";import{S as J,i as K,c as Q,f as W,m as X,t as Z,n as x,o as ee,p as N,k as T,h as u,e as E,r as M,s as S,a as k,b as y,u as P,d as U,l as p,q as $,g as z,j as L}from"./index.D4HSZ1Nh.js";import{e as q}from"./each.DmjhFfyi.js";import{M as te}from"./Modal.Dzv1Ioea.js";import{s as F,g as le,a as ne}from"./speedrun-time-to-string._QfFzfwE.js";function B(r,e,i){const a=r.slice();a[6]=e[i];const c=F.filter(function(...o){return r[5](a[6],...o)});return a[7]=c,a}function j(r,e,i){const a=r.slice();return a[3]=e[i],a}function oe(r){let e,i,a=r[2].consoleName+"",c,t,o,_,g=q(r[2].categories),l=[];for(let n=0;n<g.length;n+=1)l[n]=V(B(r,g,n));return{c(){e=E("p"),i=M("A "),c=M(a),t=M(" game."),o=S();for(let n=0;n<l.length;n+=1)l[n].c();_=N()},l(n){e=k(n,"P",{});var f=y(e);i=P(f,"A "),c=P(f,a),t=P(f," game."),f.forEach(u),o=U(n);for(let d=0;d<l.length;d+=1)l[d].l(n);_=N()},m(n,f){T(n,e,f),p(e,i),p(e,c),p(e,t),T(n,o,f);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(n,f);T(n,_,f)},p(n,f){if(f&4){g=q(n[2].categories);let d;for(d=0;d<g.length;d+=1){const I=B(n,g,d);l[d]?l[d].p(I,f):(l[d]=V(I),l[d].c(),l[d].m(_.parentNode,_))}for(;d<l.length;d+=1)l[d].d(1);l.length=g.length}},d(n){n&&(u(e),u(o),u(_)),$(l,n)}}}function re(r){let e,i="No speedrun with the given id exists.";return{c(){e=E("p"),e.textContent=i},l(a){e=k(a,"P",{"data-svelte-h":!0}),z(e)!=="svelte-1qxtdw4"&&(e.textContent=i)},m(a,c){T(a,e,c)},p:Y,d(a){a&&u(e)}}}function R(r){let e,i,a=r[3].date+"",c,t,o,_,g=ne(r[3].time)+"",l,n,f,d=r[3].consoleName+"",I,D;return{c(){e=E("tr"),i=E("td"),c=M(a),t=S(),o=E("td"),_=E("code"),l=M(g),n=S(),f=E("td"),I=M(d),D=S(),this.h()},l(C){e=k(C,"TR",{title:!0});var v=y(e);i=k(v,"TD",{});var m=y(i);c=P(m,a),m.forEach(u),t=U(v),o=k(v,"TD",{});var s=y(o);_=k(s,"CODE",{});var b=y(_);l=P(b,g),b.forEach(u),s.forEach(u),n=U(v),f=k(v,"TD",{});var h=y(f);I=P(h,d),h.forEach(u),D=U(v),v.forEach(u),this.h()},h(){L(e,"title",r[3].comment)},m(C,v){T(C,e,v),p(e,i),p(i,c),p(e,t),p(e,o),p(o,_),p(_,l),p(e,n),p(e,f),p(f,I),p(e,D)},p:Y,d(C){C&&u(e)}}}function V(r){let e,i=r[6].name+"",a,c,t,o=r[6].description+"",_,g,l,n,f,d="<tr><th>Date Played</th> <th>Time</th> <th>Played On</th></tr>",I,D,C,v=q(r[7]),m=[];for(let s=0;s<v.length;s+=1)m[s]=R(j(r,v,s));return{c(){e=E("h2"),a=M(i),c=S(),t=E("p"),_=M(o),g=S(),l=E("div"),n=E("table"),f=E("thead"),f.innerHTML=d,I=S(),D=E("tbody");for(let s=0;s<m.length;s+=1)m[s].c();C=S(),this.h()},l(s){e=k(s,"H2",{});var b=y(e);a=P(b,i),b.forEach(u),c=U(s),t=k(s,"P",{});var h=y(t);_=P(h,o),h.forEach(u),g=U(s),l=k(s,"DIV",{class:!0});var A=y(l);n=k(A,"TABLE",{border:!0});var H=y(n);f=k(H,"THEAD",{"data-svelte-h":!0}),z(f)!=="svelte-19tl928"&&(f.innerHTML=d),I=U(H),D=k(H,"TBODY",{});var O=y(D);for(let w=0;w<m.length;w+=1)m[w].l(O);O.forEach(u),H.forEach(u),C=U(A),A.forEach(u),this.h()},h(){L(n,"border",1),L(l,"class","speedruns")},m(s,b){T(s,e,b),p(e,a),T(s,c,b),T(s,t,b),p(t,_),T(s,g,b),T(s,l,b),p(l,n),p(n,f),p(n,I),p(n,D);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(D,null);p(l,C)},p(s,b){if(b&4){v=q(s[7]);let h;for(h=0;h<v.length;h+=1){const A=j(s,v,h);m[h]?m[h].p(A,b):(m[h]=R(A),m[h].c(),m[h].m(D,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=v.length}},d(s){s&&(u(e),u(c),u(t),u(g),u(l)),$(m,s)}}}function ae(r){let e;function i(t,o){return t[3]?oe:re}let c=i(r)(r);return{c(){c.c(),e=N()},l(t){c.l(t),e=N()},m(t,o){c.m(t,o),T(t,e,o)},p(t,o){c.p(t,o)},d(t){t&&u(e),c.d(t)}}}function ie(r){var a,c;let e,i;return e=new te({props:{closeUrl:r[0],originId:r[1]!=""?r[1]:`speedrun-${(a=r[3])==null?void 0:a.id}`,title:((c=r[2])==null?void 0:c.name)??"Speedrun not found",$$slots:{default:[ae]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,o){X(e,t,o),i=!0},p(t,[o]){var g;const _={};o&1&&(_.closeUrl=t[0]),o&2&&(_.originId=t[1]!=""?t[1]:`speedrun-${(g=t[3])==null?void 0:g.id}`),o&4096&&(_.$$scope={dirty:o,ctx:t}),e.$set(_)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){x(e.$$.fragment,t),i=!1},d(t){ee(e,t)}}}function se(r,e,i){let{id:a=0}=e,{closeUrl:c="/speedruns"}=e,{originId:t=""}=e;const o=F.find(l=>l.id==a),_=le.find(l=>l.id==(o==null?void 0:o.gameId)),g=(l,n)=>n.gameId==_.id&&n.categoryId==l.id;return r.$$set=l=>{"id"in l&&i(4,a=l.id),"closeUrl"in l&&i(0,c=l.closeUrl),"originId"in l&&i(1,t=l.originId)},[c,t,_,o,a,g]}class ue extends J{constructor(e){super(),K(this,e,se,ie,G,{id:4,closeUrl:0,originId:1})}}export{ue as S};
