import{i as nt,h as lt,j as B,k as at,s as rt,n as q}from"../chunks/scheduler.KwwHePks.js";import{y as st,n as ct,z as ot,t as ut,S as dt,i as it,p as w,k as p,h as d,e as i,s as tt,r as m,a as h,g as T,d as et,b as g,u as b,l as u,q as ht}from"../chunks/index.D4HSZ1Nh.js";import{e as X}from"../chunks/each.DmjhFfyi.js";function _t(a,t){const n=t.token={};function e(r,l,c,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;c!==void 0&&(s=s.slice(),s[c]=o);const _=r&&(t.current=r)(s);let C=!1;t.block&&(t.blocks?t.blocks.forEach((x,f)=>{f!==l&&x&&(st(),ct(x,1,1,()=>{t.blocks[f]===x&&(t.blocks[f]=null)}),ot())}):t.block.d(1),_.c(),ut(_,1),_.m(t.mount(),t.anchor),C=!0),t.block=_,t.blocks&&(t.blocks[l]=_),C&&at()}if(nt(a)){const r=lt();if(a.then(l=>{B(r),e(t.then,1,t.value,l),B(null)},l=>{if(B(r),e(t.catch,2,t.error,l),B(null),!t.hasCatch)throw l}),t.current!==t.pending)return e(t.pending,0),!0}else{if(t.current!==t.then)return e(t.then,1,t.value,a),!0;t.resolved=a}}function pt(a,t,n){const e=t.slice(),{resolved:r}=a;a.current===a.then&&(e[a.value]=r),a.current===a.catch&&(e[a.error]=r),a.block.p(e,n)}function Y(a,t,n){const e=a.slice();return e[3]=t[n],e}function ft(a){let t,n={ctx:a,current:null,token:null,hasCatch:!0,pending:mt,then:kt,catch:vt,value:2,error:6};return _t(a[0](),n),{c(){t=w(),n.block.c()},l(e){t=w(),n.block.l(e)},m(e,r){p(e,t,r),n.block.m(e,n.anchor=r),n.mount=()=>t.parentNode,n.anchor=t},p(e,r){a=e,pt(n,a,r)},d(e){e&&d(t),n.block.d(e),n.token=null,n=null}}}function vt(a){let t,n="Kunde inte hämta och visa nästa soptämning på grund av följande fel:",e,r,l=JSON.stringify(a[6],null,"  ")+"",c;return{c(){t=i("p"),t.textContent=n,e=tt(),r=i("pre"),c=m(l)},l(o){t=h(o,"P",{"data-svelte-h":!0}),T(t)!=="svelte-1gnuwd8"&&(t.textContent=n),e=et(o),r=h(o,"PRE",{});var s=g(r);c=b(s,l),s.forEach(d)},m(o,s){p(o,t,s),p(o,e,s),p(o,r,s),u(r,c)},p:q,d(o){o&&(d(t),d(e),d(r))}}}function kt(a){var r;let t,n=X(((r=a[2])==null?void 0:r.RhServices)??[]),e=[];for(let l=0;l<n.length;l+=1)e[l]=Z(Y(a,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=w()},l(l){for(let c=0;c<e.length;c+=1)e[c].l(l);t=w()},m(l,c){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,c);p(l,t,c)},p(l,c){var o;if(c&1){n=X(((o=l[2])==null?void 0:o.RhServices)??[]);let s;for(s=0;s<n.length;s+=1){const _=Y(l,n,s);e[s]?e[s].p(_,c):(e[s]=Z(_),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&d(t),ht(e,l)}}}function Z(a){let t,n=a[3].WasteType+"",e,r,l,c,o=`Hämtas nästa gång
				`,s,_=a[3].NextWastePickup+"",C,x,f,R=xt(gt(a[3].NextWastePickup))+"",$,H,D,F="Hämtas",N,L=a[3].WastePickupFrequency+"",I,P,O="Beskrivning",S,z=a[3].Description+"",G,y,A="Är aktiv",j,K=a[3].IsActive?"Ja":"Nej",J;return{c(){t=i("h2"),e=m(n),r=tt(),l=i("dl"),c=i("dt"),c.textContent=o,s=i("dd"),C=m(_),x=m(" ("),f=i("b"),$=m(R),H=m(`)
				`),D=i("dt"),D.textContent=F,N=i("dd"),I=m(L),P=i("dt"),P.textContent=O,S=i("dd"),G=m(z),y=i("dt"),y.textContent=A,j=i("dd"),J=m(K)},l(v){t=h(v,"H2",{});var E=g(t);e=b(E,n),E.forEach(d),r=et(v),l=h(v,"DL",{});var k=g(l);c=h(k,"DT",{"data-svelte-h":!0}),T(c)!=="svelte-vhp3et"&&(c.textContent=o),s=h(k,"DD",{});var W=g(s);C=b(W,_),x=b(W," ("),f=h(W,"B",{});var M=g(f);$=b(M,R),M.forEach(d),H=b(W,`)
				`),W.forEach(d),D=h(k,"DT",{"data-svelte-h":!0}),T(D)!=="svelte-1o9nqc3"&&(D.textContent=F),N=h(k,"DD",{});var U=g(N);I=b(U,L),U.forEach(d),P=h(k,"DT",{"data-svelte-h":!0}),T(P)!=="svelte-1cy2388"&&(P.textContent=O),S=h(k,"DD",{});var Q=g(S);G=b(Q,z),Q.forEach(d),y=h(k,"DT",{"data-svelte-h":!0}),T(y)!=="svelte-1p4vs3j"&&(y.textContent=A),j=h(k,"DD",{});var V=g(j);J=b(V,K),V.forEach(d),k.forEach(d)},m(v,E){p(v,t,E),u(t,e),p(v,r,E),p(v,l,E),u(l,c),u(l,s),u(s,C),u(s,x),u(s,f),u(f,$),u(s,H),u(l,D),u(l,N),u(N,I),u(l,P),u(l,S),u(S,G),u(l,y),u(l,j),u(j,J)},p:q,d(v){v&&(d(t),d(r),d(l))}}}function mt(a){let t,n="Hämtar information...";return{c(){t=i("p"),t.textContent=n},l(e){t=h(e,"P",{"data-svelte-h":!0}),T(t)!=="svelte-bkwhqi"&&(t.textContent=n)},m(e,r){p(e,t,r)},p:q,d(e){e&&d(t)}}}function bt(a){let t,n=ft(a);return{c(){n&&n.c(),t=w()},l(e){n&&n.l(e),t=w()},m(e,r){n&&n.m(e,r),p(e,t,r)},p(e,[r]){n.p(e,r)},i:q,o:q,d(e){e&&d(t),n&&n.d(e)}}}function gt(a){const t=Temporal.PlainDate.from(a);return Temporal.Now.plainDateISO().until(t).days}function xt(a){return a==0?"Idag":a==1?"Imorgon":`Om ${a} dagar`}function Ct(a){const t="https://minasidor.juneavfall.se/FutureWebJuneBasic/SimpleWastePickup/GetWastePickupSchedule?address=Grengatan%203%20B,%20Mullsj%C3%B6%20(38815)";async function n(){const e=await fetch(`https://corsproxy.io/?url=${t}`);if(e.status!=200)throw new Error(`Got status code ${e.status}.`);return await e.json()}return[n]}class Et extends dt{constructor(t){super(),it(this,t,Ct,bt,rt,{})}}export{Et as component};
